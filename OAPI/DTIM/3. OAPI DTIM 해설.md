[TOC]

# 파라미터



## 1. AuthCode (인증코드)

스마트빌의 Open API 서비스를 사용하기 위한 Licence Key와 같습니다.

Open API 서비스를 사용하기 위한 첫 번째 단계로 인증코드를 생성해야 합니다.

인증코드는 스마트빌 포털시스템에 세금계산서 관리자로 접속하여 생성해야 합니다.‌

### **구조**

길이 : 32‌

형식 : 알파뱃대문자 + 숫자‌

### **유의사항**

인증코드 생성은 기업관리자, 혹은 세금계산서 관리자만 가능하며, 조회는 누구나 가능합니다.

인증코드 생성은 사업자번호당 1회만 가능하며 변경할 수 없습니다.

‌

## 2. AuthToken (인증토큰)

Open API 함수를 호출할 때 사용자에 대한 인증(로그인)을 위해 사용됩니다.

인증토큰은 스마트빌 포털시스템에 접속하여 생성한 인증코드를 통해서 발급받을 수 있습니다.

### **구조**

길이 : 제한없음

형식 : 알파뱃소문자 + 알파뱃대문자 + 숫자

### **유의사항**

인증토큰 발급은 사용자 누구나 가능합니다.

인증토큰 발급은 한 사용자가 여러 번 발급받을 수 있습니다.

발급받은 인증토큰은 보안상 스마트빌 내에 별도로 보관/관리하지 않으며 고객사의 별도 관리가 필요합니다.

보안에 민감한 고객사일 경우 보안토큰의 유효기간을 짧게 설정하여 자주 변경하실 수 있습니다.

유효기간이 지난 토큰으로 API 호출 시 처리가 거부 됩니다.

‌

## 3. MessageId (메시지아이디)

MessageId는 트랜잭션마다 고유하게 부여하는 문자열입니다. 각종 로그 추적과 트러블슈팅에 사용되는 참조 키 입니다.

### **구조**

길이 : 20자리 이상 36자리 이하

사용가능 문자 : 알파뱃(대소문자), 숫자, -(대쉬)

앞8자리는 고객사에서 정한 고유코드 사용(권장사항)

ex. BiZoNSvCe88d3aaa0f914fD286A7

‌

## 4. ConversationId (참조번호)

ConversationId는 세금계산서 1건당 1:1로 매핑되는 스마트빌 시스템 고유의 식별자입니다.

### **구조**

길이 : 35자리

구성 : 공급자사업자번호(10자리) + 공급받는자사업자번호(10자리) + 현재날짜(8자리) + 시퀸스(4자리) + 시스템구분코드(3자리 고정값 '006')

ex. 11111111112222222222202011180001006

‌

## 5. IssueId (승인번호)

IssueId는 세금계산서 1건당 1:1로 매핑되는 국세청 시스템 고유의 식별자 입니다.

### **구조**

길이 : 24자리

구성 : 작성일자(8자리) + 발행시스템고유번호(8자리 고정값 '41000008') + 업체코드(3자리 스마트빌 연동시스템 부여 값) + 시퀸스(5자리)

ex. 2020111841000008lsw00001

‌

## 6. Signal (시그널)

Signal은 요청행위에 대한 코드값입니다. 스마트빌에서는 전송받은 파라미터 값에 대하여 Signal에 대해서 검증 후 처리합니다.

| Signal       | 요청행위                 |
| ------------ | ------------------------ |
| GET_TOKEN    | 인증토큰 발급            |
| OS_DTI_LIST  | 세금계산서 리스트 조회   |
| OS_DTI_XML   | 세금계산서 원본 XML 조회 |
| PREVIEW_FORM | 미리보기 양식 조회       |

‌

## 7. ServiceCode (서비스코드)

서비스 구분값으로 고정값을 사용합니다. → "DTI"

‌

## 8. SendComRegno (송신사업자번호)

스마트빌과 연동중인 송신사업자번호를 입력합니다.

‌

## 9. SearchComRegno (검색사업자번호)

검색할 사업자번호를 입력합니다.

‌

## 10. SbId (스마트빌 아이디)

스마트빌 사용자 아이디를 입력합니다.

‌

## 11. SupBuy_Type (매출/매입 구분)

매출, 매입 구분 코드을 입력합니다.

| 구분 | 구분 코드 |
| ---- | --------- |
| 매출 | AR        |
| 매입 | AP        |

‌

## 12. ExpirationDateCode (유효기간 코드)

인증토큰의 유효기간 코드를 입력합니다.

| 유효기간 코드 | 유효기간(일) | 비고                                  |
| ------------- | ------------ | ------------------------------------- |
| D             | 1            | Content                               |
| W             | 7            | Content                               |
| H             | 15           | Content                               |
| M             | 30           | Content                               |
| Q             | 90           | Content                               |
| R             | 180          | Content                               |
| Y             | 365          | Content                               |
| Z             | 영구 사용    | Content                               |
| C             | 사용자 지정  | 'ExpirationDate'에 지정할 만료일 입력 |

‌

## 13. ExpirationDate (유효기간)

ExpirationDateCode(유효기간 코드)가 C(사용자 지정)일 때 유효기간(일)을 직접 입력합니다.

‌

## 14. SearchDate

검색일자 종류 코드를 입력합니다.

| 종류             | 코드 |
| ---------------- | ---- |
| 작성일자         | W    |
| 발행일자         | I    |
| (국세청)전송일자 | S    |

‌

## 15. SearchFromDate (검색 시작일자)

검색 시작일자를 입력 합니다.

### **구조**

YYYY-MM-DD hh:mm

ex. 2020-11-18 13:27

‌(시간은 미입력 시 자동으로 00:00이 입력 됩니다.)

‌

## 16. SearchToDate (검색 종료일자)

검색 종료일자를 입력 합니다.

### **구조**

YYYY-MM-DD hh:mm

ex. 2020-11-18 13:27

(시간은 미입력 시 자동으로 00:00이 입력 됩니다.)